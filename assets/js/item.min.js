fetch(`${apiUrl}/api/teddies/${new URLSearchParams(window.location.search).get("id")}`).then(response=>{if(response.ok)return response.json();Promise.reject(response.status)}).then(data=>{pageTitle.textContent=data.name+" - Orinoco";let price=data.price/100;const addToLocalStorage=()=>{let quantity=document.getElementById("quantity"),itemDetails={id:data._id,name:data.name,colorSelected:document.getElementById("select-color").value,quantity:quantity.value,priceForAll:price*quantity.value,pricePerUnit:price},cartItem=JSON.parse(localStorage.getItem(itemDetails.id+itemDetails.colorSelected));null!==cartItem&&(itemDetails.quantity=parseInt(itemDetails.quantity)+parseInt(cartItem.quantity),itemDetails.priceForAll=price*itemDetails.quantity),localStorage[itemDetails.id+itemDetails.colorSelected]=JSON.stringify(itemDetails),numberItemInCartNav()};data.colors.forEach(color=>{const newOption=newElement("option",selectColor,{value:color},color)});const itemImg=newValue("item-img",{src:data.imageUrl,alt:data.name}),itemName=newValue("item-name",{},data.name),itemPrice=newValue("item-price",{},price),itemDescription=newValue("item-description",{},data.description);btnAddToCart.addEventListener("click",(function(){addToLocalStorage()}))}).catch((function(error){pageTitle.textContent="Article introuvable - Orinoco",itemContainer.remove();const errorRow=newElement("div",item,{class:"row"}),errorContainer=newElement("div",errorRow,{class:"col-12 alert alert-danger text-center"}),errorText=newElement("h1",errorContainer,{class:"h2"},"Erreur, article introuvable"),errorBacklinkContainer=newElement("div",errorContainer,{class:"col-12"}),errorBacklink=newElement("a",errorBacklinkContainer,{class:"h3",href:"index.html"},"Retourner Ã  l'accueil")}));