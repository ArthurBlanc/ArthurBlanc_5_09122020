let apiUrl="localhost"===location.hostname||"127.0.0.1"===location.hostname?"http://localhost:3000":"https://p5-backend-arthurblanc.herokuapp.com/";const cardContainer=document.getElementById("card-container"),itemNumberNav=document.getElementById("item-number-nav"),pageTitle=document.getElementById("title"),item=document.getElementById("item"),itemContainer=document.getElementById("item-container"),selectColor=document.getElementById("select-color"),btnAddToCart=document.getElementById("btnAddToCart"),main=document.getElementById("main"),cart=document.getElementById("cart"),cartContainer=document.getElementById("cart-container"),orderForm=document.getElementById("order-form"),couponForm=document.getElementById("coupon-form"),btnCoupon=document.getElementById("btn-coupon"),ccNumber=document.getElementById("cc-number"),ccExpiration=document.getElementById("cc-expiration"),btnOrder=document.getElementById("btn-order"),firstName=document.getElementById("firstName"),lastName=document.getElementById("lastName"),address=document.getElementById("address"),city=document.getElementById("city"),zip=document.getElementById("zip"),email=document.getElementById("email");let totalPrice=0,products=[];const numberItemInCartNav=()=>{0!==localStorage.length&&(itemNumberNav.textContent=localStorage.length)},newElement=(type,parent,attributes,...contents)=>{const element=document.createElement(type);for(key in parent.appendChild(element),attributes)element.setAttribute(key,attributes[key]);return contents.forEach(content=>{"string"==typeof content?element.appendChild(document.createTextNode(content)):element.appendChild(content)}),element},newValue=(id,attributes,textContent)=>{const element=document.getElementById(id);for(key in attributes)element.setAttribute(key,attributes[key]);return element.textContent=textContent,element},removeItem=item=>{localStorage.removeItem(item),document.location.href="cart.html"},sendFormData=data=>{fetch(`${apiUrl}/api/teddies/order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)}).then(response=>{response.ok?response.json().then(responseData=>{sessionStorage.setItem("order_id",responseData.orderId),sessionStorage.setItem("firstName",firstName.value),sessionStorage.setItem("lastName",lastName.value),sessionStorage.setItem("address",address.value),sessionStorage.setItem("city",city.value),sessionStorage.setItem("zip",zip.value),window.location.href="order-confirmed.html"}):Promise.reject(response.status)}).catch(error=>console.log(error))},cc_format=value=>{var v,matches=value.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),match=matches&&matches[0]||"",parts=[];for(i=0,len=match.length;i<len;i+=4)parts.push(match.substring(i,i+4));return parts.length?parts.join(" "):value},cc_expiration=value=>{var v,matches=value.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{2,4}/g),match=matches&&matches[0]||"",parts=[];for(i=0,len=match.length;i<len;i+=2)parts.push(match.substring(i,i+2));return parts.length?parts.join("/"):value},clearLocalStorage=()=>{localStorage.clear(),sessionStorage.clear()};numberItemInCartNav();